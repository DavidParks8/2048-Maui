<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:resx="clr-namespace:TwentyFortyEight.Maui.Resources.Strings"
             xmlns:vm="clr-namespace:TwentyFortyEight.ViewModels;assembly=TwentyFortyEight.ViewModels"
             x:Class="TwentyFortyEight.Maui.Components.VictoryModalOverlay"
             x:DataType="vm:VictoryViewModel"
             IsVisible="{Binding State.IsModalVisible}"
             ZIndex="300"
             InputTransparent="False">

    <Grid>
        <!-- Modal card -->
        <Border x:Name="ModalCard"
                Background="{AppThemeBinding Light={StaticResource ModalBackgroundLight}, Dark={StaticResource ModalBackgroundDark}}"
                Stroke="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray600}}"
                StrokeThickness="1"
                StrokeShape="RoundRectangle 16"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                Padding="32"
                Scale="0.96"
                Opacity="0">

            <VerticalStackLayout Spacing="16" HorizontalOptions="Center">
                <!-- Trophy / celebration emoji -->
                <Label Text="{x:Static resx:AppStrings.VictoryTrophyEmoji}"
                       FontSize="64"
                       HorizontalOptions="Center" />

                <!-- Title -->
                <Label Text="{x:Static resx:AppStrings.VictoryTitle}"
                       FontSize="28"
                       FontAttributes="Bold"
                       TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                       HorizontalOptions="Center"
                       SemanticProperties.HeadingLevel="Level1" />

                <!-- Subtitle -->
                <Label Text="{x:Static resx:AppStrings.VictorySubtitle}"
                       FontSize="18"
                       TextColor="{AppThemeBinding Light={StaticResource NativeTextSecondaryLight}, Dark={StaticResource NativeTextSecondaryDark}}"
                       HorizontalOptions="Center" />

                <!-- Score display -->
                <Label x:Name="ScoreLabel"
                       Text="{Binding ScoreDisplayText}"
                       FontSize="16"
                       TextColor="{AppThemeBinding Light={StaticResource NativeTextSecondaryLight}, Dark={StaticResource NativeTextSecondaryDark}}"
                       HorizontalOptions="Center" />

                <!-- Buttons -->
                <HorizontalStackLayout Spacing="16" HorizontalOptions="Center" Margin="0,16,0,0">
                    <Button x:Name="KeepPlayingButton"
                            Text="{x:Static resx:AppStrings.KeepPlaying}"
                            Command="{Binding KeepPlayingCommand}"
                            SemanticProperties.Hint="{x:Static resx:AppStrings.KeepPlayingHint}" />

                    <!-- Use default Button style resources; override only what the plan calls for. -->
                    <Button x:Name="NewGameButton"
                            Text="{x:Static resx:AppStrings.NewGame}"
                            Command="{Binding NewGameCommand}"
                            Background="{AppThemeBinding Light={StaticResource Gray200}, Dark={StaticResource Gray600}}"
                            TextColor="{AppThemeBinding Light={StaticResource Gray900}, Dark={StaticResource White}}"
                            SemanticProperties.Hint="{x:Static resx:AppStrings.NewGameHint}" />
                </HorizontalStackLayout>
            </VerticalStackLayout>
        </Border>
    </Grid>
</ContentView>

<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:strings="clr-namespace:TwentyFortyEight.Maui.Resources.Strings"
             xmlns:local="clr-namespace:TwentyFortyEight.Maui.Components"
             x:Class="TwentyFortyEight.Maui.Components.GameOverModal"
             x:DataType="local:GameOverModal"
             x:Name="this">

    <Grid IsVisible="{Binding IsVisible, Source={x:Reference this}}"
          InputTransparent="False">
        
        <!-- Dark overlay background -->
        <BoxView BackgroundColor="#80000000" />
        
        <!-- Modal dialog -->
        <Border BackgroundColor="{AppThemeBinding Light=#faf8ef, Dark=#2a2a2a}"
                Stroke="{AppThemeBinding Light=#bbada0, Dark=#3c3a32}"
                StrokeThickness="3"
                Padding="40,30"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                StrokeShape="RoundRectangle 15"
                MaximumWidthRequest="350">
            <VerticalStackLayout Spacing="20" HorizontalOptions="Center">
                
                <!-- Game Over Title -->
                <Label Text="{x:Static strings:AppStrings.GameOver}"
                       FontSize="36"
                       FontAttributes="Bold"
                       TextColor="#f67c5f"
                       HorizontalOptions="Center" />
                
                <!-- Score display -->
                <VerticalStackLayout Spacing="5" HorizontalOptions="Center">
                    <Label Text="{x:Static strings:AppStrings.YourScore}"
                           FontSize="16"
                           TextColor="{AppThemeBinding Light=#776e65, Dark=#a0968b}"
                           HorizontalOptions="Center" />
                    <Label Text="{Binding Score, Source={x:Reference this}}"
                           FontSize="48"
                           FontAttributes="Bold"
                           TextColor="{AppThemeBinding Light=#776e65, Dark=#f9f6f2}"
                           HorizontalOptions="Center" />
                </VerticalStackLayout>
                
                <!-- Best score indicator -->
                <Label Text="{Binding BestScoreText, Source={x:Reference this}}"
                       FontSize="14"
                       TextColor="{AppThemeBinding Light=#bbada0, Dark=#6a6458}"
                       HorizontalOptions="Center" />
                
                <!-- New Game Button -->
                <Button 
                    Command="{Binding NewGameCommand, Source={x:Reference this}}"
                    Text="{x:Static strings:AppStrings.TryAgain}"
                    BackgroundColor="#f67c5f"
                    TextColor="White"
                    FontSize="18"
                    FontAttributes="Bold"
                    HeightRequest="55"
                    Padding="30,0"
                    CornerRadius="8"
                    Margin="0,10,0,0"
                    SemanticProperties.Description="{x:Static strings:AppStrings.TryAgain}" />
                
            </VerticalStackLayout>
        </Border>
    </Grid>
</ContentView>

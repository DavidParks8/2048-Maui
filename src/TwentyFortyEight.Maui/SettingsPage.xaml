<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
   xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
   xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
   xmlns:strings="clr-namespace:TwentyFortyEight.Maui.Resources.Strings"
   xmlns:vm="clr-namespace:TwentyFortyEight.Maui.ViewModels"
   x:Class="TwentyFortyEight.Maui.SettingsPage"
   x:DataType="vm:SettingsViewModel"
   Title="{x:Static strings:AppStrings.SettingsPageTitle}"
   BackgroundColor="{AppThemeBinding Light=#faf8ef, Dark=#1a1a1a}">

   <ScrollView Padding="20">
      <VerticalStackLayout Spacing="20">

         <!-- Animations Section -->
         <Border
            BackgroundColor="{AppThemeBinding Light=#bbada0, Dark=#3c3a32}"
            Stroke="Transparent"
            StrokeShape="RoundRectangle 10"
            Padding="16">
            <VerticalStackLayout Spacing="12">
               <Label
                  Text="{x:Static strings:AppStrings.AnimationsSection}"
                  FontSize="12"
                  FontAttributes="Bold"
                  TextColor="{AppThemeBinding Light=#eee4da, Dark=#cdc1b4}"
                  Margin="0,0,0,4" />

               <!-- Enable Animations Toggle -->
               <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10">
                  <Label
                     Grid.Column="0"
                     Text="{x:Static strings:AppStrings.EnableAnimations}"
                     FontSize="15"
                     TextColor="{AppThemeBinding Light=#776e65, Dark=#f9f6f2}"
                     VerticalOptions="Center" />
                  <Switch
                     Grid.Column="1"
                     IsToggled="{Binding AnimationsEnabled}"
                     OnColor="{AppThemeBinding Light=#8f7a66, Dark=#5a4a3a}"
                     ThumbColor="White"
                     VerticalOptions="Center" />
               </Grid>

               <!-- Animation Speed Slider -->
               <VerticalStackLayout Spacing="8" IsVisible="{Binding AnimationsEnabled}">
                  <Label
                     Text="{x:Static strings:AppStrings.AnimationSpeed}"
                     FontSize="15"
                     TextColor="{AppThemeBinding Light=#776e65, Dark=#f9f6f2}" />
                  
                  <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="10">
                     <Label
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.AnimationSpeedSlow}"
                        FontSize="12"
                        TextColor="{AppThemeBinding Light=#776e65, Dark=#cdc1b4}"
                        VerticalOptions="Center" />
                     <Slider
                        Grid.Column="1"
                        Value="{Binding AnimationSpeed}"
                        Minimum="0.5"
                        Maximum="1.5"
                        MinimumTrackColor="{AppThemeBinding Light=#8f7a66, Dark=#5a4a3a}"
                        MaximumTrackColor="{AppThemeBinding Light=#cdc1b4, Dark=#776e65}"
                        ThumbColor="{AppThemeBinding Light=#8f7a66, Dark=#5a4a3a}"
                        VerticalOptions="Center" />
                     <Label
                        Grid.Column="2"
                        Text="{x:Static strings:AppStrings.AnimationSpeedFast}"
                        FontSize="12"
                        TextColor="{AppThemeBinding Light=#776e65, Dark=#cdc1b4}"
                        VerticalOptions="Center" />
                  </Grid>

                  <Label
                     Text="{Binding AnimationSpeed, StringFormat='{0:F1}x'}"
                     FontSize="13"
                     FontAttributes="Bold"
                     TextColor="{AppThemeBinding Light=#776e65, Dark=#f9f6f2}"
                     HorizontalOptions="Center" />
               </VerticalStackLayout>
            </VerticalStackLayout>
         </Border>

         <!-- Haptics Section (conditionally visible) -->
         <Border
            BackgroundColor="{AppThemeBinding Light=#bbada0, Dark=#3c3a32}"
            Stroke="Transparent"
            StrokeShape="RoundRectangle 10"
            Padding="16"
            IsVisible="{Binding IsHapticsSupported}">
            <VerticalStackLayout Spacing="12">
               <Label
                  Text="{x:Static strings:AppStrings.HapticsSection}"
                  FontSize="12"
                  FontAttributes="Bold"
                  TextColor="{AppThemeBinding Light=#eee4da, Dark=#cdc1b4}"
                  Margin="0,0,0,4" />

               <!-- Enable Haptics Toggle -->
               <Grid ColumnDefinitions="*,Auto" ColumnSpacing="10">
                  <Label
                     Grid.Column="0"
                     Text="{x:Static strings:AppStrings.EnableHaptics}"
                     FontSize="15"
                     TextColor="{AppThemeBinding Light=#776e65, Dark=#f9f6f2}"
                     VerticalOptions="Center" />
                  <Switch
                     Grid.Column="1"
                     IsToggled="{Binding HapticsEnabled}"
                     OnColor="{AppThemeBinding Light=#8f7a66, Dark=#5a4a3a}"
                     ThumbColor="White"
                     VerticalOptions="Center" />
               </Grid>
            </VerticalStackLayout>
         </Border>

      </VerticalStackLayout>
   </ScrollView>
</ContentPage>

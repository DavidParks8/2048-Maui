<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
   xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
   xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
   xmlns:strings="clr-namespace:TwentyFortyEight.Maui.Resources.Strings"
   xmlns:vm="clr-namespace:TwentyFortyEight.ViewModels;assembly=TwentyFortyEight.ViewModels"
   x:Class="TwentyFortyEight.Maui.StatsPage"
   x:DataType="vm:StatsViewModel"
   Title="{x:Static strings:AppStrings.StatisticsPageTitle}"
   Background="{AppThemeBinding Light={StaticResource PageBackgroundLight}, Dark={StaticResource PageBackgroundDark}}">

   <ScrollView Padding="16">
      <VerticalStackLayout Spacing="20">

         <!-- Games Section -->
         <VerticalStackLayout Spacing="8">
            <Label x:Name="GamesSectionLabel"
               Text="{x:Static strings:AppStrings.GamesSection}"
               FontSize="13"
               TextColor="{AppThemeBinding Light={StaticResource NativeTextTertiaryLight}, Dark={StaticResource NativeTextTertiaryDark}}"
               Margin="8,0,0,0" />
            
            <Border x:Name="GamesSectionBorder"
               Background="{AppThemeBinding Light={StaticResource NativeSettingsCellBackgroundLight}, Dark={StaticResource NativeSettingsCellBackgroundDark}}"
               Stroke="Transparent"
               StrokeShape="RoundRectangle {StaticResource NativeCardCornerRadius}"
               Padding="16,0">
               <VerticalStackLayout Spacing="0">
                  <!-- Games Played -->
                  <Grid ColumnDefinitions="*,Auto" Padding="0,14">
                     <Label x:Name="GamesPlayedLabel"
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.GamesPlayed}"
                        FontSize="17"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                     <Label x:Name="GamesPlayedValue"
                        Grid.Column="1"
                        Text="{Binding GamesPlayed}"
                        FontSize="17"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                  </Grid>
                  
                  <BoxView HeightRequest="0.5"
                           Color="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray600}}" />
                  
                  <!-- Games Won -->
                  <Grid ColumnDefinitions="*,Auto" Padding="0,14">
                     <Label x:Name="GamesWonLabel"
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.GamesWon}"
                        FontSize="17"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                     <Label x:Name="GamesWonValue"
                        Grid.Column="1"
                        Text="{Binding GamesWon}"
                        FontSize="17"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                  </Grid>
                  
                  <BoxView HeightRequest="0.5"
                           Color="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray600}}" />
                  
                  <!-- Win Rate -->
                  <Grid ColumnDefinitions="*,Auto" Padding="0,14">
                     <Label x:Name="WinRateLabel"
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.WinRate}"
                        FontSize="17"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                     <Label x:Name="WinRateValue"
                        Grid.Column="1"
                        Text="{Binding WinRate}"
                        FontSize="17"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                  </Grid>
               </VerticalStackLayout>
            </Border>
         </VerticalStackLayout>

         <!-- Scores Section -->
         <VerticalStackLayout Spacing="8">
            <Label x:Name="ScoresSectionLabel"
               Text="{x:Static strings:AppStrings.ScoresSection}"
               FontSize="13"
               TextColor="{AppThemeBinding Light={StaticResource NativeTextTertiaryLight}, Dark={StaticResource NativeTextTertiaryDark}}"
               Margin="8,0,0,0" />
            
            <Border x:Name="ScoresSectionBorder"
               Background="{AppThemeBinding Light={StaticResource NativeSettingsCellBackgroundLight}, Dark={StaticResource NativeSettingsCellBackgroundDark}}"
               Stroke="Transparent"
               StrokeShape="RoundRectangle {StaticResource NativeCardCornerRadius}"
               Padding="16,0">
               <VerticalStackLayout Spacing="0">
                  <!-- Best Score -->
                  <Grid ColumnDefinitions="*,Auto" Padding="0,14">
                     <Label x:Name="BestScoreLabelStats"
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.BestScoreLabel}"
                        FontSize="17"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                     <Label x:Name="BestScoreValueStats"
                        Grid.Column="1"
                        Text="{Binding BestScore}"
                        FontSize="17"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                  </Grid>
                  
                  <BoxView HeightRequest="0.5"
                           Color="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray600}}" />
                  
                  <!-- Average Score -->
                  <Grid ColumnDefinitions="*,Auto" Padding="0,14">
                     <Label x:Name="AverageScoreLabel"
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.AverageScore}"
                        FontSize="17"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                     <Label x:Name="AverageScoreValue"
                        Grid.Column="1"
                        Text="{Binding AverageScore}"
                        FontSize="17"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                  </Grid>
                  
                  <BoxView HeightRequest="0.5"
                           Color="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray600}}" />
                  
                  <!-- Highest Tile -->
                  <Grid ColumnDefinitions="*,Auto" Padding="0,14">
                     <Label x:Name="HighestTileLabel"
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.HighestTile}"
                        FontSize="17"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                     <Label x:Name="HighestTileValue"
                        Grid.Column="1"
                        Text="{Binding HighestTile}"
                        FontSize="17"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                  </Grid>
               </VerticalStackLayout>
            </Border>
         </VerticalStackLayout>

         <!-- Moves Section -->
         <VerticalStackLayout Spacing="8">
            <Label x:Name="MovesSectionLabel"
               Text="{x:Static strings:AppStrings.MovesSection}"
               FontSize="13"
               TextColor="{AppThemeBinding Light={StaticResource NativeTextTertiaryLight}, Dark={StaticResource NativeTextTertiaryDark}}"
               Margin="8,0,0,0" />
            
            <Border x:Name="MovesSectionBorder"
               Background="{AppThemeBinding Light={StaticResource NativeSettingsCellBackgroundLight}, Dark={StaticResource NativeSettingsCellBackgroundDark}}"
               Stroke="Transparent"
               StrokeShape="RoundRectangle {StaticResource NativeCardCornerRadius}"
               Padding="16,20">
               <VerticalStackLayout Spacing="8">
                  <Label x:Name="TotalMovesLabel"
                     Text="{x:Static strings:AppStrings.TotalMoves}"
                     FontSize="15"
                     TextColor="{AppThemeBinding Light={StaticResource NativeTextSecondaryLight}, Dark={StaticResource NativeTextSecondaryDark}}"
                     HorizontalOptions="Center" />
                  <Label x:Name="TotalMovesValue"
                     Text="{Binding TotalMoves}"
                     FontSize="32"
                     FontAttributes="Bold"
                     TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                     HorizontalOptions="Center" />
               </VerticalStackLayout>
            </Border>
         </VerticalStackLayout>

         <!-- Streaks Section -->
         <VerticalStackLayout Spacing="8">
            <Label x:Name="StreaksSectionLabel"
               Text="{x:Static strings:AppStrings.StreaksSection}"
               FontSize="13"
               TextColor="{AppThemeBinding Light={StaticResource NativeTextTertiaryLight}, Dark={StaticResource NativeTextTertiaryDark}}"
               Margin="8,0,0,0" />
            
            <Border x:Name="StreaksSectionBorder"
               Background="{AppThemeBinding Light={StaticResource NativeSettingsCellBackgroundLight}, Dark={StaticResource NativeSettingsCellBackgroundDark}}"
               Stroke="Transparent"
               StrokeShape="RoundRectangle {StaticResource NativeCardCornerRadius}"
               Padding="16,0">
               <VerticalStackLayout Spacing="0">
                  <!-- Current Streak -->
                  <Grid ColumnDefinitions="*,Auto" Padding="0,14">
                     <Label x:Name="CurrentStreakLabel"
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.Current}"
                        FontSize="17"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                     <Label x:Name="CurrentStreakValue"
                        Grid.Column="1"
                        Text="{Binding CurrentStreak}"
                        FontSize="17"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                  </Grid>
                  
                  <BoxView HeightRequest="0.5"
                           Color="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Gray600}}" />
                  
                  <!-- Best Streak -->
                  <Grid ColumnDefinitions="*,Auto" Padding="0,14">
                     <Label x:Name="BestStreakLabel"
                        Grid.Column="0"
                        Text="{x:Static strings:AppStrings.BestLabel}"
                        FontSize="17"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                     <Label x:Name="BestStreakValue"
                        Grid.Column="1"
                        Text="{Binding BestStreak}"
                        FontSize="17"
                        FontAttributes="Bold"
                        TextColor="{AppThemeBinding Light={StaticResource NativeTextPrimaryLight}, Dark={StaticResource NativeTextPrimaryDark}}"
                        VerticalOptions="Center" />
                  </Grid>
               </VerticalStackLayout>
            </Border>
         </VerticalStackLayout>

         <!-- Reset Statistics Button -->
         <Button x:Name="ResetStatisticsButton"
            AutomationId="ResetStatisticsButton"
            Text="{x:Static strings:AppStrings.ResetStatistics}"
            Command="{Binding ResetStatisticsCommand}"
            Background="{AppThemeBinding Light={StaticResource NativeButtonBackgroundLight}, Dark={StaticResource NativeButtonBackgroundDark}}"
            TextColor="{AppThemeBinding Light={StaticResource NativeButtonTextLight}, Dark={StaticResource NativeButtonTextDark}}"
            FontSize="17"
            FontAttributes="Bold"
            HeightRequest="50"
            CornerRadius="10"
            Margin="0,8,0,0"
            HorizontalOptions="Fill" />

      </VerticalStackLayout>
   </ScrollView>
</ContentPage>
